[{"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\index.js":"1","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\App.js":"2","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\context\\UserContext.js":"3","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\index.js":"4","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\FAQ.js":"5","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\AboutUs.js":"6","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\Home.js":"7","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\Register.js":"8","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\Login.js":"9","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\NavigationBar.js":"10","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\Features.js":"11","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Overview.js":"12","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Transactions.js":"13","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Cards.js":"14","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Account.js":"15","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Settings.js":"16","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\NavigationBar.js":"17","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\misc\\ErrorNotice.js":"18"},{"size":467,"mtime":1611520197207,"results":"19","hashOfConfig":"20"},{"size":2732,"mtime":1611520197156,"results":"21","hashOfConfig":"20"},{"size":75,"mtime":1611520197206,"results":"22","hashOfConfig":"20"},{"size":796,"mtime":1611520197191,"results":"23","hashOfConfig":"20"},{"size":379,"mtime":1611520197164,"results":"24","hashOfConfig":"20"},{"size":390,"mtime":1611520197161,"results":"25","hashOfConfig":"20"},{"size":6942,"mtime":1611520197168,"results":"26","hashOfConfig":"20"},{"size":6062,"mtime":1611520197172,"results":"27","hashOfConfig":"20"},{"size":3122,"mtime":1611520197170,"results":"28","hashOfConfig":"20"},{"size":3439,"mtime":1611523670033,"results":"29","hashOfConfig":"20"},{"size":389,"mtime":1611520197166,"results":"30","hashOfConfig":"20"},{"size":387,"mtime":1611520197199,"results":"31","hashOfConfig":"20"},{"size":433,"mtime":1611520197202,"results":"32","hashOfConfig":"20"},{"size":419,"mtime":1611520197197,"results":"33","hashOfConfig":"20"},{"size":5893,"mtime":1611521139786,"results":"34","hashOfConfig":"20"},{"size":1916,"mtime":1611521163313,"results":"35","hashOfConfig":"20"},{"size":1504,"mtime":1611523734940,"results":"36","hashOfConfig":"20"},{"size":322,"mtime":1611520197203,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1ulu4iz",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\index.js",[],["78","79"],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\App.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\context\\UserContext.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\index.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\FAQ.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\AboutUs.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\Home.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\Register.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\Login.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\NavigationBar.js",["80"],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\pages\\Features.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Overview.js",["81"],"import React from \"react\";\r\nimport { MainNavigationBar } from \"../../\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Overview () {\r\n    return (\r\n        <div className=\"top-bar\">\r\n            <MainNavigationBar />\r\n            <div className=\"logout\">\r\n            </div>\r\n            <div className=\"main-background\">\r\n            </div>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Transactions.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Cards.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Account.js",["82","83","84"],"import React, {useContext, useEffect, useState} from \"react\";\r\nimport {Button, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow} from \"@material-ui/core\";\r\nimport ErrorNotice from \"../../misc/ErrorNotice\"\r\nimport Axios from \"axios\";\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport { MainNavigationBar } from \"../../\";\r\n\r\nexport default function Account () {\r\n    let user = JSON.parse(sessionStorage.getItem(\"userData\"))\r\n    const [amount, setAmount] = useState();\r\n    const [error, setError] = useState();\r\n    const [showTransfer, setShowTransfer] = useState(false)\r\n    const [showStatement, setShowStatement] = useState(false)\r\n    const [balance, setBalance] = useState(user.accountBalance)\r\n    const [recipient, setRecipient] = useState({label: '', value: ''})\r\n\r\n    async function updateData() {\r\n        try {\r\n            const newData = await Axios.post(\"http://localhost:5000/users/updateData\", {PID: user.personalID})\r\n            user.accountBalance = newData.data.accountBalance\r\n            user.recipients = newData.data.recipients\r\n            user.transactions = newData.data.transactions\r\n            setBalance(user.accountBalance)\r\n            setShowTransfer(false)\r\n            setShowStatement(false)\r\n            setRecipient({label: '', value: ''})\r\n            setAmount('')\r\n            sessionStorage.setItem(\"userData\", JSON.stringify(user))\r\n        } catch (err) {\r\n            console.log(err)\r\n            err.response.data.msg && setError(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateData();\r\n    }, []);\r\n\r\n    async function submit(e) {\r\n        e.preventDefault();\r\n        try {\r\n            const data = {payerID: user.personalID, payeeID: recipient, amount}\r\n            await Axios.post(\"http://localhost:5000/users/transfer\", data)\r\n            await updateData()\r\n        } catch (err) {\r\n            err.response.data.msg && setError(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const recipientChange = (input) => {\r\n        setRecipient(input)\r\n    }\r\n\r\n    async function submit(e) {\r\n        e.preventDefault();\r\n        try {\r\n            const data = {payerID: user.personalID, payeeID: recipient, amount}\r\n            await Axios.post(\"http://localhost:5000/users/transfer\", data)\r\n            await updateData()\r\n        } catch (err) {\r\n            err.response.data.msg && setError(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"main-background\">\r\n            <MainNavigationBar/>\r\n            <section className=\"main-background\">\r\n                <div className=\"centered-text-default\">\r\n                    <h1>Account</h1>\r\n                    <h3>Welcome, {user.firstName.data} {user.lastName.data}</h3>\r\n                    Your balance is £{Number(balance).toFixed(2)}\r\n                    <div>\r\n                        <Button variant={\"contained\"} disableElevation={true} onClick={() => {\r\n                            setShowTransfer(!showTransfer)\r\n                        }}>Transfer</Button>\r\n                    </div>\r\n                    {showTransfer && (\r\n                        <form className=\"Form1\" onSubmit={submit}>\r\n                            {error && (<ErrorNotice message={error} clearError={() => setError(undefined)}/>)}\r\n                            <label>Payee Personal ID: </label>\r\n                            <CreatableSelect\r\n                                options={user.recipients}\r\n                                onChange={recipientChange}\r\n                            />\r\n                            <label>Amount: </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"Amount\"\r\n                                onChange={(e) => setAmount(e.target.value)}\r\n                            />\r\n                            <input type=\"submit\" value=\"Submit\"/>\r\n                        </form>)}\r\n                    <div>\r\n                        <Button variant={\"contained\"} disableElevation={true} onClick={() => {\r\n                            setShowStatement(!showStatement)\r\n                        }}>Show Statement</Button>\r\n                    </div>\r\n                    {showStatement &&\r\n                    <TableContainer component={Paper}>\r\n                        <Table>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell>Date</TableCell>\r\n                                    <TableCell>Amount In</TableCell>\r\n                                    <TableCell>Amount Out</TableCell>\r\n                                    <TableCell>Account</TableCell>\r\n                                    <TableCell>Balance</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {user.transactions.map((transaction) => (\r\n                                    <TableRow key={transaction.date}>\r\n                                        <TableCell component=\"th\" scope=\"row\">\r\n                                            {transaction.date}\r\n                                        </TableCell>\r\n                                        <TableCell>{transaction.amountIn}</TableCell>\r\n                                        <TableCell>{transaction.amountOut}</TableCell>\r\n                                        <TableCell>{transaction.account}</TableCell>\r\n                                        <TableCell>{transaction.balance}</TableCell>\r\n                                    </TableRow>\r\n                                ))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>}\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\main\\pages\\Settings.js",["85"],"import React, {useContext} from \"react\";\r\nimport { MainNavigationBar } from \"../../\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport Axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport UserContext from \"../../../context/UserContext\";\r\n\r\nexport default function Settings () {\r\n    const history = useHistory();\r\n    const {userData, setUserData} = useContext(UserContext);\r\n    // This removes the authentication token from the user data and also the local storage when the user logs out\r\n    const logout = () => {\r\n        setUserData({\r\n            token: undefined,\r\n            user: undefined\r\n        })\r\n        localStorage.setItem(\"auth-token\", \"\")\r\n    }\r\n    //This deletes the user account\r\n    async function handleDeleteAccount() {\r\n        try {\r\n            //Gets auth token from local storage and saves to a variable\r\n            const token = localStorage.getItem('auth-token');\r\n            const request = Axios.create({\r\n                headers: {\r\n                    \"x-auth-token\": token\r\n                }\r\n            });\r\n            //Logs user out before account is deleted\r\n            logout();\r\n            //Sends request to delete account to server-side using axios\r\n            await request.delete('http://localhost:5000/users/delete').then(r =>\r\n                history.push('/')\r\n            )\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"main-background\">\r\n            <MainNavigationBar />\r\n            <section className=\"main-background\">\r\n                <div className=\"centered-text-default\">\r\n                    <h1>Settings</h1>\r\n                    <Button variant={\"contained\"} disableElevation={true} onClick={handleDeleteAccount}>\r\n                        Click here to delete account</Button>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\home\\NavigationBar.js",[],"C:\\Users\\Travis\\WebstormProjects\\stubank-plc-v3\\root\\client\\src\\components\\misc\\ErrorNotice.js",[],{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":17,"column":12,"nodeType":"92","messageId":"93","endLine":17,"endColumn":20},{"ruleId":"90","severity":1,"message":"94","line":3,"column":9,"nodeType":"92","messageId":"93","endLine":3,"endColumn":13},{"ruleId":"90","severity":1,"message":"95","line":1,"column":16,"nodeType":"92","messageId":"93","endLine":1,"endColumn":26},{"ruleId":"96","severity":1,"message":"97","line":37,"column":8,"nodeType":"98","endLine":37,"endColumn":10,"suggestions":"99"},{"ruleId":"100","severity":1,"message":"101","line":54,"column":20,"nodeType":"92","messageId":"102","endLine":54,"endColumn":26},{"ruleId":"90","severity":1,"message":"91","line":10,"column":12,"nodeType":"92","messageId":"93","endLine":10,"endColumn":20},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"no-unused-vars","'userData' is assigned a value but never used.","Identifier","unusedVar","'Link' is defined but never used.","'useContext' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'updateData'. Either include it or remove the dependency array.","ArrayExpression",["105"],"no-redeclare","'submit' is already defined.","redeclared","no-global-assign","no-unsafe-negation",{"desc":"106","fix":"107"},"Update the dependencies array to be: [updateData]",{"range":"108","text":"109"},[1613,1615],"[updateData]"]