[{"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\index.js":"1","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\App.js":"2","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\context\\UserContext.js":"3","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\index.js":"4","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\AboutUs.js":"5","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\NavigationBar.js":"6","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\Features.js":"7","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\FAQ.js":"8","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\Home.js":"9","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Overview.js":"10","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Transactions.js":"11","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\Login.js":"12","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\NavigationBar.js":"13","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\Register.js":"14","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Cards.js":"15","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\admin\\NavigationBar.js":"16","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\admin\\pages\\Users.js":"17","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Account.js":"18","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Settings.js":"19","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\admin\\pages\\NewAdmin.js":"20","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\misc\\ErrorNotice.js":"21"},{"size":467,"mtime":1611698674481,"results":"22","hashOfConfig":"23"},{"size":2955,"mtime":1611698674414,"results":"24","hashOfConfig":"23"},{"size":75,"mtime":1611698674479,"results":"25","hashOfConfig":"23"},{"size":990,"mtime":1611698674463,"results":"26","hashOfConfig":"23"},{"size":390,"mtime":1611698674423,"results":"27","hashOfConfig":"23"},{"size":1504,"mtime":1611698674422,"results":"28","hashOfConfig":"23"},{"size":389,"mtime":1611698674426,"results":"29","hashOfConfig":"23"},{"size":379,"mtime":1611698674425,"results":"30","hashOfConfig":"23"},{"size":5163,"mtime":1611859549941,"results":"31","hashOfConfig":"23"},{"size":387,"mtime":1611698674471,"results":"32","hashOfConfig":"23"},{"size":2961,"mtime":1611698674475,"results":"33","hashOfConfig":"23"},{"size":3122,"mtime":1611698674429,"results":"34","hashOfConfig":"23"},{"size":3439,"mtime":1611698674465,"results":"35","hashOfConfig":"23"},{"size":5827,"mtime":1611698674430,"results":"36","hashOfConfig":"23"},{"size":3733,"mtime":1611698674470,"results":"37","hashOfConfig":"23"},{"size":2282,"mtime":1611698674416,"results":"38","hashOfConfig":"23"},{"size":6297,"mtime":1611698674419,"results":"39","hashOfConfig":"23"},{"size":3393,"mtime":1611698674467,"results":"40","hashOfConfig":"23"},{"size":6739,"mtime":1611698674473,"results":"41","hashOfConfig":"23"},{"size":405,"mtime":1611698674419,"results":"42","hashOfConfig":"23"},{"size":322,"mtime":1611698674478,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"u9p8u9",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"46"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"46"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\index.js",[],["95","96"],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\App.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\context\\UserContext.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\index.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\AboutUs.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\NavigationBar.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\Features.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\FAQ.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\Home.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Overview.js",["97"],"import React from \"react\";\r\nimport { MainNavigationBar } from \"../../\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Overview () {\r\n    return (\r\n        <div className=\"top-bar\">\r\n            <MainNavigationBar />\r\n            <div className=\"logout\">\r\n            </div>\r\n            <div className=\"main-background\">\r\n            </div>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Transactions.js",["98"],"import React, {useEffect, useState} from \"react\";\r\nimport { MainNavigationBar } from \"../../\";\r\nimport {Button, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow} from \"@material-ui/core\";\r\nimport Axios from \"axios\";\r\n\r\nexport default function Transactions () {\r\n    const [showStatement, setShowStatement] = useState(false)\r\n    let user = JSON.parse(sessionStorage.getItem(\"userData\"))\r\n\r\n    async function updateData() {\r\n        try {\r\n            const newData = await Axios.post(\"http://localhost:5000/users/updateData\", {PID: user.personalID})\r\n            user = newData.data\r\n            setShowStatement(false)\r\n            sessionStorage.setItem(\"userData\", JSON.stringify(user))\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        updateData();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"main-background\">\r\n            <MainNavigationBar />\r\n            <section className=\"main-background\">\r\n                <div className=\"centered-text-default\">\r\n                    <h1>Transactions</h1>\r\n                    <div>\r\n                    <Button variant={\"contained\"} disableElevation={true} onClick={() => {\r\n                        setShowStatement(!showStatement)\r\n                    }}>Show Statement</Button>\r\n                </div>\r\n                    {showStatement &&\r\n                    <TableContainer component={Paper}>\r\n                        <Table>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell>Date</TableCell>\r\n                                    <TableCell>Amount In</TableCell>\r\n                                    <TableCell>Amount Out</TableCell>\r\n                                    <TableCell>Account</TableCell>\r\n                                    <TableCell>Balance</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {user.transactions.map((transaction) => (\r\n                                    <TableRow key={transaction.date}>\r\n                                        <TableCell component=\"th\" scope=\"row\">\r\n                                            {transaction.date}\r\n                                        </TableCell>\r\n                                        <TableCell>{transaction.amountIn}</TableCell>\r\n                                        <TableCell>{transaction.amountOut}</TableCell>\r\n                                        <TableCell>{transaction.account}</TableCell>\r\n                                        <TableCell>{transaction.balance}</TableCell>\r\n                                    </TableRow>\r\n                                ))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>}\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\Login.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\NavigationBar.js",["99"],"import React, {useContext} from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport LogoutLogo from \"../images/logout-logo.png\";\r\nimport SettingsLogo from \"../images/settings-logo.png\";\r\nimport BankLogo from \"../images/bank-logo.png\";\r\nimport OverviewLogo from \"../images/overview-logo.png\";\r\nimport TransactionsLogo from \"../images/transactions-logo.png\";\r\nimport AccountLogo from \"../images/account-logo.png\";\r\nimport CardLogo from \"../images/card-logo.png\";\r\nimport UserContext from \"../../context/UserContext\";\r\n\r\nfunction NavigationBar(){\r\n    // let user = JSON.parse(sessionStorage.getItem(\"userData\"))\r\n    // const balance = user.accountBalance;\r\n\r\n    const {userData, setUserData} = useContext(UserContext);\r\n    // This removes the authentication token from the user data and also the local storage when the user logs out\r\n    const logout = () => {\r\n        setUserData({\r\n            token: undefined,\r\n            user: undefined\r\n        })\r\n        sessionStorage.clear()\r\n        localStorage.clear()\r\n    }\r\n\r\n    return (\r\n        <div className=\"top-bar\">\r\n            <h5>Balance</h5>\r\n            {/*<h4>£{balance}</h4>*/}\r\n            <div className=\"sidebar\">\r\n                <div className=\"nav-brand\">\r\n                    <Link to=\"/overview\">\r\n                        <img className=\"main-img\" src={BankLogo} alt=\"\"/>\r\n                    </Link>\r\n                </div>\r\n                <ul className=\"sidebar-list\">\r\n                    <li className=\"row\">\r\n                        <Link className=\"link\" to=\"/overview\">\r\n                            <img className=\"img\" src={OverviewLogo} alt=\"\"/>\r\n                            <p>Overview</p>\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"row\">\r\n                        <Link className=\"link\" to=\"/transactions\">\r\n                            <img className=\"img\" src={TransactionsLogo} alt=\"\"/>\r\n                            <p>Transactions</p>\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"row\">\r\n                        <Link className=\"link\" to=\"/account\">\r\n                            <img className=\"img\" src={AccountLogo} alt=\"\"/>\r\n                            <p>Account</p>\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"row\">\r\n                        <Link className=\"link\" to=\"/cards\">\r\n                            <img className=\"img\" src={CardLogo} alt=\"\"/>\r\n                            <p>Cards</p>\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n                <div className=\"text\">\r\n                    {/*<h1>{user.firstName.data} {user.lastName.data}</h1>*/}\r\n                    {/*<h2>ID: {user.personalID}</h2>*/}\r\n                </div>\r\n            </div>\r\n            <div className=\"button\">\r\n                <Link to=\"/login\" onClick={logout}>\r\n                    <img className=\"image-logout\" src={LogoutLogo} alt=\"Logout\"/>\r\n                    <p style={{color: \"#ff1b1b\" }}>Logout</p>\r\n                </Link>\r\n                <Link to=\"/settings\">\r\n                    <img className=\"image-settings\" src={SettingsLogo} alt=\"Settings\"/>\r\n                    <p style={{color: \"#8F8D8D\" }}>Settings</p>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(NavigationBar);","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\home\\pages\\Register.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Cards.js",["100"],"import React, {useEffect, useState} from \"react\";\r\nimport {MainNavigationBar} from \"../../\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport ErrorNotice from \"../../misc/ErrorNotice\";\r\nimport Axios from \"axios\";\r\n\r\nexport default function Cards () {\r\n    let user = JSON.parse(sessionStorage.getItem(\"userData\"))\r\n    const [cardNumber, setCardNumber] = useState(user.cardNumber.data)\r\n    const [CVV, setCVV] = useState(user.CVV.data)\r\n    const [frozen, setFrozen] = useState(user.frozenCard)\r\n    const [errorCards, setErrorCards] = useState();\r\n\r\n    async function updateData() {\r\n        try {\r\n            const newData = await Axios.post(\"http://localhost:5000/users/updateData\", {PID: user.personalID})\r\n            user = newData.data\r\n            setCardNumber(user.cardNumber.data)\r\n            setCVV(user.CVV.data)\r\n            setFrozen(user.frozenCard)\r\n            sessionStorage.setItem(\"userData\", JSON.stringify(user))\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorCards(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateData();\r\n    }, []);\r\n\r\n    async function submitCards(e) {\r\n        e.preventDefault();\r\n        try {\r\n            const data = {cardNumber, CVV, frozen, PID: user.personalID}\r\n            await Axios.post(\"http://localhost:5000/users/newVirtualCard\", data)\r\n            await updateData()\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorCards(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    function randomNum(){\r\n        return String(Math.floor(Math.random() * 10))\r\n    }\r\n\r\n    function generateNumbers(){\r\n        setCardNumber(randomNum() + randomNum() + randomNum() + randomNum() + ' ' + randomNum() + randomNum() +\r\n            randomNum() + randomNum() + ' ' + randomNum() + randomNum() + randomNum() + randomNum() + ' ' + randomNum()\r\n            + randomNum() + randomNum() + randomNum())\r\n        setCVV(randomNum() + randomNum() + randomNum())\r\n    }\r\n\r\n    return (\r\n        <div className=\"main-background\">\r\n            <MainNavigationBar />\r\n            <section className=\"main-background\">\r\n                <div className=\"centered-text-default\">\r\n                    <h1>Cards</h1>\r\n                    <div>\r\n                        <Button variant={\"contained\"} disableElevation={true} onClick={() => {\r\n                            generateNumbers()\r\n                        }}>Generate Card</Button>\r\n                    </div>\r\n                    <form className=\"Form1\" onSubmit = {submitCards}>\r\n                        {errorCards && (<ErrorNotice message={errorCards} clearError={() => setErrorCards(undefined)}/>)}\r\n                        <label>Card Number: </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"Card Number\"\r\n                            readOnly={true}\r\n                            value ={cardNumber}\r\n                        />\r\n                        <label>CVV: </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"CVV\"\r\n                            value = {CVV}\r\n                            readOnly={true}\r\n                        />\r\n                        <label>Freeze Card: </label>\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            name=\"Freeze\"\r\n                            defaultChecked = {frozen}\r\n                            onChange = {(e) => setFrozen(!frozen)}\r\n                        />\r\n                        <input type=\"submit\" value=\"Submit\"/>\r\n                    </form>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\admin\\NavigationBar.js",["101"],"import React, {useContext} from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport LogoutLogo from \"../images/logout-logo.png\";\r\nimport BankLogo from \"../images/bank-logo.png\";\r\nimport UsersLogo from \"../images/multiple-users-logo.png\";\r\nimport AdminLogo from \"../images/admin-logo.png\";\r\nimport UserContext from \"../../context/UserContext\";\r\n\r\nfunction NavigationBar(){\r\n    let user = JSON.parse(sessionStorage.getItem(\"userData\"));\r\n\r\n    const {setUserData} = useContext(UserContext);\r\n\r\n    // This removes the authentication token from the user data and also the local storage when the user logs out\r\n    const logout = () => {\r\n        setUserData({\r\n            token: undefined,\r\n            user: undefined\r\n        })\r\n        sessionStorage.clear()\r\n        localStorage.clear()\r\n    }\r\n\r\n    return (\r\n        <div className=\"top-bar\">\r\n            <div className=\"sidebar\">\r\n                <div className=\"nav-brand\">\r\n                    <Link to=\"/users\">\r\n                        <img className=\"main-img\" src={BankLogo} alt=\"\"/>\r\n                    </Link>\r\n                </div>\r\n                <ul className=\"sidebar-list\">\r\n                    <li className=\"row\">\r\n                        <Link className=\"link\" to=\"/users\">\r\n                            <img className=\"img\" src={UsersLogo} alt=\"\"/>\r\n                            <p>Users</p>\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"row\">\r\n                        <Link className=\"link\" to=\"/create_admin\">\r\n                            <img className=\"img\" src={AdminLogo} alt=\"\"/>\r\n                            <p>New Admin</p>\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n                <div className=\"text\">\r\n                    {/*<h2 className=\"admin\">Admin ID: {user.personalID}</h2>*/}\r\n                </div>\r\n            </div>\r\n            <div className=\"button\">\r\n                <Link to=\"/login\" onClick={logout}>\r\n                    <img className=\"image-logout\" src={LogoutLogo} alt=\"Logout\"/>\r\n                    <p style={{color: \"#ff1b1b\" }}>Logout</p>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(NavigationBar);","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\admin\\pages\\Users.js",["102","103","104","105"],"import React, {useContext, useEffect, useState} from \"react\";\r\nimport { AdminNavigationBar } from \"../../\";\r\nimport Axios from \"axios\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport ErrorNotice from \"../../misc/ErrorNotice\";\r\n\r\nexport default function Users () {\r\n    const {userData, setUserData} = useContext(UserContext);\r\n    let userDataToAmend = \"\";\r\n    //Sets user data to the logged in admin user if it is null to null pointer errors\r\n    if (!userDataToAmend) {\r\n        userDataToAmend = JSON.parse(sessionStorage.getItem(\"userData\"));\r\n    }\r\n    const [personalID, setPersonalID] = useState(undefined);\r\n    const [showAmend, setShowAmend] = useState(false);\r\n    const [errorAmend, setErrorAmend] = useState();\r\n        const [email, setEmail] = useState(userDataToAmend.email.data);\r\n        const [firstName, setFirstName] = useState(userDataToAmend.firstName.data);\r\n        const [lastName, setLastName] = useState(userDataToAmend.lastName.data);\r\n        const [passwordOld, setPasswordOld] = useState(undefined);\r\n        const [passwordNew, setPasswordNew] = useState(undefined);\r\n        const [passwordCheck, setPasswordCheck] = useState(undefined);\r\n        const [phoneNum, setPhoneNum] = useState(userDataToAmend.phoneNum.data);\r\n    async function updateData() {\r\n        try {\r\n            const newData = await Axios.post(\"http://localhost:5000/users/updateData\", {PID: personalID})\r\n            userDataToAmend = newData.data\r\n            setShowAmend(false)\r\n            setEmail(userDataToAmend.email.data)\r\n            setFirstName(userDataToAmend.firstName.data)\r\n            setLastName(userDataToAmend.lastName.data)\r\n            setPasswordOld(undefined)\r\n            setPasswordNew(undefined)\r\n            setPasswordCheck(undefined)\r\n            setPhoneNum(userDataToAmend.phoneNum.data)\r\n            sessionStorage.setItem(\"userData\", JSON.stringify(userDataToAmend))\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorAmend(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    async function getUserData() {\r\n        try {\r\n            const userData = await Axios.post(\"http://localhost:5000/users/updateData\", {PID: personalID})\r\n            userDataToAmend = userData.data\r\n            sessionStorage.setItem(\"userData\", JSON.stringify(userDataToAmend))\r\n            setShowAmend(!showAmend)\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorAmend(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateData();\r\n    }, []);\r\n\r\n    function assignUser(){\r\n    }\r\n\r\n    async function submitAmend(e){\r\n        e.preventDefault()\r\n        try {\r\n            const data = {email, passwordOld, passwordNew, passwordCheck, phoneNum, firstName, lastName, personalID}\r\n            await Axios.post(\"http://localhost:5000/users/amendDetails\", data)\r\n            await updateData()\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorAmend(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"top-bar\">\r\n            <AdminNavigationBar />\r\n            <div className=\"main-background\">\r\n                <div className=\"big-bank-box\">\r\n                    <h1>Users</h1>\r\n                    <label htmlFor=\"personal-id\">Personal ID</label>\r\n                    <input\r\n                        id=\"personal-id\"\r\n                        type=\"text\"\r\n                        placeholder=\"e.g 12345678912\"\r\n                        onChange={(e) => setPersonalID(e.target.value)}\r\n                    />\r\n                    <Button variant={\"contained\"} disableElevation={true} onClick={getUserData} >Amend Details</Button>\r\n                {showAmend &&\r\n                <form className=\"form\" onSubmit={submitAmend}>\r\n                    {errorAmend && (<ErrorNotice message={errorAmend} clearError={() => setErrorAmend(undefined)}/>)}\r\n                    <label htmlFor=\"register-email\">Email</label>\r\n                    <input\r\n                        id=\"register-email\"\r\n                        type=\"email\"\r\n                        defaultValue={userDataToAmend.email.data}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n                    <label htmlFor=\"register-first-na   me\">First name</label>\r\n                    <input\r\n                        id=\"register-first-name\"\r\n                        type=\"text\"\r\n                        defaultValue={userDataToAmend.firstName.data}\r\n                        onChange={(e) => setFirstName(e.target.value)}\r\n                    />\r\n                    <label htmlFor=\"register-last-name\">Last name</label>\r\n                    <input\r\n                        id=\"register-last-name\"\r\n                        type=\"text\"\r\n                        defaultValue={userDataToAmend.lastName.data}\r\n                        onChange={(e) => setLastName(e.target.value)}\r\n                    />\r\n                    <label htmlFor=\"register-phone-num\">Phone Num</label>\r\n                    <input\r\n                        id=\"register-phone-num\"\r\n                        type=\"text\"\r\n                        defaultValue={userDataToAmend.phoneNum.data}\r\n                        onChange={(e) => setPhoneNum(e.target.value)}\r\n                    />\r\n                    <label htmlFor=\"passwordOld\">Current Password</label>\r\n                    <input\r\n                        id=\"passwordOld\"\r\n                        type=\"password\"\r\n                        onChange={(e) => setPasswordOld(e.target.value)}\r\n                    />\r\n                    <label htmlFor=\"passwordNew\">New Password</label>\r\n                    <input\r\n                        id=\"passwordNew\"\r\n                        type=\"password\"\r\n                        onChange={(e) => setPasswordNew(e.target.value)}\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Verify password\"\r\n                        onChange={(e) => setPasswordCheck(e.target.value)}\r\n                    />\r\n                    <input type=\"submit\" value=\"Amend\"/>\r\n                </form>}\r\n                </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Account.js",["106"],"import React, {useEffect, useState} from \"react\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport ErrorNotice from \"../../misc/ErrorNotice\"\r\nimport Axios from \"axios\";\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport { MainNavigationBar } from \"../../\";\r\n\r\nexport default function Account () {\r\n    let user = JSON.parse(sessionStorage.getItem(\"userData\"))\r\n    const [amount, setAmount] = useState();\r\n    const [errorTransfer, setErrorTransfer] = useState();\r\n    const [showTransfer, setShowTransfer] = useState(false);\r\n    const [balance, setBalance] = useState(user.accountBalance);\r\n    const [recipient, setRecipient] = useState({label: '', value: ''});\r\n\r\n    async function updateData() {\r\n        try {\r\n            const newData = await Axios.post(\"http://localhost:5000/users/updateData\", {PID: user.personalID})\r\n            user = newData.data\r\n            setBalance(user.accountBalance.data)\r\n            setShowTransfer(false)\r\n            setRecipient({label: '', value: ''})\r\n            setAmount('')\r\n            sessionStorage.setItem(\"userData\", JSON.stringify(user))\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorTransfer(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateData();\r\n    }, []);\r\n\r\n    const recipientChange = (input) => {\r\n        setRecipient(input)\r\n    }\r\n\r\n    async function submitTransfer(e) {\r\n        e.preventDefault();\r\n        try {\r\n            const data = {payerID: user.personalID, payeeID: recipient, amount}\r\n            await Axios.post(\"http://localhost:5000/users/transfer\", data)\r\n            await updateData()\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorTransfer(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"main-background\">\r\n            <MainNavigationBar/>\r\n            <section className=\"main-background\">\r\n                <div className=\"centered-text-default\">\r\n                    <h1>Account</h1>\r\n                    <h3>Welcome, {user.firstName.data} {user.lastName.data}</h3>\r\n                    Your balance is £{Number(balance).toFixed(2)}\r\n                    <div>\r\n                        <Button variant={\"contained\"} disableElevation={true} onClick={() => {\r\n                            setShowTransfer(!showTransfer)\r\n                        }}>Transfer</Button>\r\n                    </div>\r\n                    {showTransfer && (\r\n                        <form className=\"Form1\" onSubmit={submitTransfer}>\r\n                            {errorTransfer && (<ErrorNotice message={errorTransfer} clearError={() => setErrorTransfer(undefined)}/>)}\r\n                            <label>Payee Personal ID: </label>\r\n                            <CreatableSelect\r\n                                options={user.recipients}\r\n                                onChange={recipientChange}\r\n                            />\r\n                            <label>Amount: </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"Amount\"\r\n                                onChange={(e) => setAmount(e.target.value)}\r\n                            />\r\n                            <input type=\"submit\" value=\"Submit\"/>\r\n                        </form>)}\r\n\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\main\\pages\\Settings.js",["107","108"],"import React, {useContext, useEffect, useState} from \"react\";\r\nimport { MainNavigationBar } from \"../../\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport Axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport ErrorNotice from \"../../misc/ErrorNotice\";\r\n\r\nexport default function Settings () {\r\n    const history = useHistory();\r\n    const {userData, setUserData} = useContext(UserContext);\r\n    let user = JSON.parse(sessionStorage.getItem(\"userData\"))\r\n    const [showAmend, setShowAmend] = useState(false)\r\n    const [errorAmend, setErrorAmend] = useState();\r\n    const [email, setEmail] = useState(user.email.data);\r\n    const [firstName, setFirstName] = useState(user.firstName.data);\r\n    const [lastName, setLastName] = useState(user.lastName.data);\r\n    const [passwordOld, setPasswordOld] = useState(undefined);\r\n    const [passwordNew, setPasswordNew] = useState(undefined);\r\n    const [passwordCheck, setPasswordCheck] = useState(undefined);\r\n    const [phoneNum, setPhoneNum] = useState(user.phoneNum.data);\r\n    // This removes the authentication token from the user data and also the local storage when the user logs out\r\n    const logout = () => {\r\n        setUserData({\r\n            token: undefined,\r\n            user: undefined\r\n        })\r\n        localStorage.setItem(\"auth-token\", \"\")\r\n    }\r\n    //This deletes the user account\r\n    async function handleDeleteAccount() {\r\n        try {\r\n            //Gets auth token from local storage and saves to a variable\r\n            const token = localStorage.getItem('auth-token');\r\n            const request = Axios.create({\r\n                headers: {\r\n                    \"x-auth-token\": token\r\n                }\r\n            });\r\n            //Logs user out before account is deleted\r\n            logout();\r\n            //Sends request to delete account to server-side using axios\r\n            await request.delete('http://localhost:5000/users/delete').then(r =>\r\n                history.push('/')\r\n            )\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    async function updateData() {\r\n        try {\r\n            const newData = await Axios.post(\"http://localhost:5000/users/updateData\", {PID: user.personalID})\r\n            user = newData.data\r\n            setShowAmend(false)\r\n            setEmail(user.email.data)\r\n            setFirstName(user.firstName.data)\r\n            setLastName(user.lastName.data)\r\n            setPasswordOld(undefined)\r\n            setPasswordNew(undefined)\r\n            setPasswordCheck(undefined)\r\n            setPhoneNum(user.phoneNum.data)\r\n            sessionStorage.setItem(\"userData\", JSON.stringify(user))\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorAmend(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateData();\r\n    }, []);\r\n\r\n    async function submitAmend(e){\r\n        e.preventDefault()\r\n        try {\r\n            const data = {email, passwordOld, passwordNew, passwordCheck, phoneNum, firstName, lastName, personalID: user.personalID}\r\n            await Axios.post(\"http://localhost:5000/users/amendDetails\", data)\r\n            await updateData()\r\n        } catch (err) {\r\n            err.response.data.msg && setErrorAmend(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"main-background\">\r\n            <MainNavigationBar />\r\n            <section className=\"main-background\">\r\n                <div className=\"centered-text-default\">\r\n                    <h1>Settings</h1>\r\n                    <div>\r\n                        <Button variant={\"contained\"} disableElevation={true} onClick={() => {\r\n                            setShowAmend(!showAmend)\r\n                        }}>Amend Details</Button>\r\n                    </div>\r\n                    {showAmend &&\r\n                    <form className=\"form\" onSubmit={submitAmend}>\r\n                        {errorAmend && (<ErrorNotice message={errorAmend} clearError={() => setErrorAmend(undefined)}/>)}\r\n                        <label htmlFor=\"register-email\">Email</label>\r\n                        <input\r\n                            id=\"register-email\"\r\n                            type=\"email\"\r\n                            defaultValue={user.email.data}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        <label htmlFor=\"register-first-name\">First name</label>\r\n                        <input\r\n                            id=\"register-first-name\"\r\n                            type=\"text\"\r\n                            defaultValue={user.firstName.data}\r\n                            onChange={(e) => setFirstName(e.target.value)}\r\n                        />\r\n                        <label htmlFor=\"register-last-name\">Last name</label>\r\n                        <input\r\n                            id=\"register-last-name\"\r\n                            type=\"text\"\r\n                            defaultValue={user.lastName.data}\r\n                            onChange={(e) => setLastName(e.target.value)}\r\n                        />\r\n                        <label htmlFor=\"register-phone-num\">Phone Num</label>\r\n                        <input\r\n                            id=\"register-phone-num\"\r\n                            type=\"text\"\r\n                            defaultValue={user.phoneNum.data}\r\n                            onChange={(e) => setPhoneNum(e.target.value)}\r\n                        />\r\n                        <label htmlFor=\"passwordOld\">Current Password</label>\r\n                        <input\r\n                            id=\"passwordOld\"\r\n                            type=\"password\"\r\n                            onChange={(e) => setPasswordOld(e.target.value)}\r\n                        />\r\n                        <label htmlFor=\"passwordNew\">New Password</label>\r\n                        <input\r\n                            id=\"passwordNew\"\r\n                            type=\"password\"\r\n                            onChange={(e) => setPasswordNew(e.target.value)}\r\n                        />\r\n                        <input\r\n                            type=\"password\"\r\n                            placeholder=\"Verify password\"\r\n                            onChange={(e) => setPasswordCheck(e.target.value)}\r\n                        />\r\n                        <input type=\"submit\" value=\"Amend\"/>\r\n                    </form>}\r\n                    <Button variant={\"contained\"} disableElevation={true} onClick={handleDeleteAccount}>\r\n                        Click here to delete account</Button>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}","C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\admin\\pages\\NewAdmin.js",[],"C:\\Users\\Sarah\\WebstormProjects\\stubank-plc\\root\\client\\src\\components\\misc\\ErrorNotice.js",[],{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","severity":1,"message":"114","line":3,"column":9,"nodeType":"115","messageId":"116","endLine":3,"endColumn":13},{"ruleId":"117","severity":1,"message":"118","line":22,"column":8,"nodeType":"119","endLine":22,"endColumn":10,"suggestions":"120"},{"ruleId":"113","severity":1,"message":"121","line":17,"column":12,"nodeType":"115","messageId":"116","endLine":17,"endColumn":20},{"ruleId":"117","severity":1,"message":"118","line":29,"column":8,"nodeType":"119","endLine":29,"endColumn":10,"suggestions":"122"},{"ruleId":"113","severity":1,"message":"123","line":11,"column":9,"nodeType":"115","messageId":"116","endLine":11,"endColumn":13},{"ruleId":"113","severity":1,"message":"121","line":9,"column":12,"nodeType":"115","messageId":"116","endLine":9,"endColumn":20},{"ruleId":"113","severity":1,"message":"124","line":9,"column":22,"nodeType":"115","messageId":"116","endLine":9,"endColumn":33},{"ruleId":"117","severity":1,"message":"118","line":56,"column":8,"nodeType":"119","endLine":56,"endColumn":10,"suggestions":"125"},{"ruleId":"113","severity":1,"message":"126","line":58,"column":14,"nodeType":"115","messageId":"116","endLine":58,"endColumn":24},{"ruleId":"117","severity":1,"message":"118","line":32,"column":8,"nodeType":"119","endLine":32,"endColumn":10,"suggestions":"127"},{"ruleId":"113","severity":1,"message":"121","line":11,"column":12,"nodeType":"115","messageId":"116","endLine":11,"endColumn":20},{"ruleId":"117","severity":1,"message":"118","line":71,"column":8,"nodeType":"119","endLine":71,"endColumn":10,"suggestions":"128"},"no-native-reassign",["129"],"no-negated-in-lhs",["130"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'updateData'. Either include it or remove the dependency array.","ArrayExpression",["131"],"'userData' is assigned a value but never used.",["132"],"'user' is assigned a value but never used.","'setUserData' is assigned a value but never used.",["133"],"'assignUser' is defined but never used.",["134"],["135"],"no-global-assign","no-unsafe-negation",{"desc":"136","fix":"137"},{"desc":"136","fix":"138"},{"desc":"136","fix":"139"},{"desc":"136","fix":"140"},{"desc":"136","fix":"141"},"Update the dependencies array to be: [updateData]",{"range":"142","text":"143"},{"range":"144","text":"143"},{"range":"145","text":"143"},{"range":"146","text":"143"},{"range":"147","text":"143"},[813,815],"[updateData]",[1116,1118],[2588,2590],[1286,1288],[2903,2905]]